-- Load dependencies
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

-- Load OrionLib
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/PhamDucKienn/Gui/refs/heads/main/Gui"))()

-- Global settings
_G.AutoTap = false
_G.HighSpeed = false
_G.HighJump = false
_G.HighlightPlayers = false

-- Functions
function highjump()
    while _G.HighJump do
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        humanoid.JumpPower = 150
        wait(1)
    end
end

function highspeed()
    while _G.HighSpeed do
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        humanoid.WalkSpeed = 100
        wait(1)
    end
end

function autoclick()
    while _G.AutoTap do
        local remotes = game:GetService("ReplicatedStorage"):FindFirstChild("Remotes")
        if remotes and remotes:FindFirstChild("AddSpeed") then
            remotes.AddSpeed:FireServer()
        end
        wait(0.01)
    end
end

function highlightPlayers()
    if not _G.HighlightPlayers then return end
    local Players = game:GetService("Players")
    local highlightTemplate = Instance.new("Highlight")
    highlightTemplate.Name = "Highlight"
    highlightTemplate.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop

    local function addHighlight(player)
        if player.Character then
            local character = player.Character
            if not character:FindFirstChild("Highlight") then
                local highlight = highlightTemplate:Clone()
                highlight.Adornee = character
                highlight.Parent = character
            end
        end

        player.CharacterAdded:Connect(function(character)
            if not character:FindFirstChild("Highlight") then
                local highlight = highlightTemplate:Clone()
                highlight.Adornee = character
                highlight.Parent = character
            end
        end)
    end

    for _, player in pairs(Players:GetPlayers()) do
        if player ~= Players.LocalPlayer then
            addHighlight(player)
        end
    end

    Players.PlayerAdded:Connect(function(player)
        if player ~= Players.LocalPlayer then
            addHighlight(player)
        end
    end)
end

-- OrionLib Window Setup
local Window = OrionLib:MakeWindow({
    Name = "Combined Script Hub",
    HidePremium = false,
    IntroText = "Welcome to Combined Hub!",
    SaveConfig = true,
    ConfigFolder = "CombinedHubConfig"
})

-- Main Tab
local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

MainTab:AddToggle({
    Name = "Auto Clicker",
    Default = false,
    Callback = function(Value)
        _G.AutoTap = Value
        if Value then
            coroutine.wrap(autoclick)()
        end
    end
})

MainTab:AddToggle({
    Name = "High Speed",
    Default = false,
    Callback = function(Value)
        _G.HighSpeed = Value
        if Value then
            coroutine.wrap(highspeed)()
        end
    end
})

MainTab:AddToggle({
    Name = "High Jump",
    Default = false,
    Callback = function(Value)
        _G.HighJump = Value
        if Value then
            coroutine.wrap(highjump)()
        end
    end
})

MainTab:AddToggle({
    Name = "Highlight Players",
    Default = false,
    Callback = function(Value)
        _G.HighlightPlayers = Value
        if Value then
            highlightPlayers()
        end
    end
})

-- Aimbot Tab
local AimbotTab = Window:MakeTab({
    Name = "Aimbot",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

AimbotTab:AddToggle({
    Name = "Enable Aimbot",
    Default = false,
    Callback = function(Value)
        -- Add your aimbot enabling code here
        print("Aimbot toggled:", Value)
    end
})

-- Settings Tab
local SettingsTab = Window:MakeTab({
    Name = "Settings",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

SettingsTab:AddButton({
    Name = "Reset Config",
    Callback = function()
        OrionLib:ResetSettings()
    end
})

OrionLib:Init()
